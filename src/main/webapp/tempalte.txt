<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>

	<meta charset="UTF-8" />
	<title>Tempalte</title>

	<h:outputStylesheet library="estilos" name="estilo.css" />

</h:head>

<h:body>
	<header>
		<h:graphicImage library="estilos" name="logo.png" width="50" height="35"/>
	</header>
	<div id="conteudo">
		<h:form>
		<h1>Tempalte</h1>
			<h:panelGrid columns="2">
				
			</h:panelGrid>
		</h:form>
	</div>
	<footer> Gerenciador de Estagios </footer>
</h:body>

</html>




package com.ifpb.estagio.converter;

import java.util.logging.Logger;

import javax.faces.component.UIComponent;
import javax.faces.context.FacesContext;
import javax.faces.convert.Converter;
import javax.faces.convert.FacesConverter;
import javax.inject.Inject;

import com.ifpb.estagio.dao.DAO;
import com.ifpb.estagio.model.Empresa;

@FacesConverter(forClass = Empresa.class)
public class EmpresaConverter implements Converter {
    private static final Logger logger = Logger.getLogger(EmpresaConverter.class.getName());

    @Inject
    private DAO<Empresa> dao;

    @Override
    public Object getAsObject(FacesContext context, UIComponent component, String value) {
        if (value == null || value.isEmpty()) {
            return null;
        }

        try {
            Long id = Long.parseLong(value);
            logger.info("ID para busca: " + id);

            if (dao == null) {
                logger.warning("Injeção de dependência 'dao' é nula!");
                return null;
            }

            Empresa empresa = dao.buscarPorId(Empresa.class, id);
            logger.info("Empresa encontrada: " + empresa);

            return empresa;
        } catch (NumberFormatException e) {
            logger.severe("Erro ao converter para objeto. Valor inválido: " + value);
            throw new IllegalArgumentException("Invalid value: " + value, e);
        }
    }

    @Override
    public String getAsString(FacesContext context, UIComponent component, Object value) {
        if (value != null && value instanceof Empresa) {
            String id = String.valueOf(((Empresa) value).getId());
            logger.info("ID convertido para String: " + id);
            return id;
        } else {
            // Se value for null, retorne uma string vazia
            return "";
        }
    }
}
